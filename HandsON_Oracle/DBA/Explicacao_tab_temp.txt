Bom, por partes : primeira pergunta, COMO vc está calculando esses 99% ?? Não sei se vc sabe, 
mas uma vez alocado o espaço na tablespace temporária, ao fim do uso ele ** não ** é removido da tablespace, 
o banco só "marca" o espaço como livre e depois regrava por cima : assim, se vc consultar o espaço livre 
na tablespace vc vai encontrar pouquíssimo, pois como eu disse as áreas antigamente usadas 
não são apagadas - estão disponíveis mas ainda "dentro da tablespace". 
A maneira de vc saber NA REAL quanto do espaço dentro duma tablespace temporário está em uso e livre é consultar 
aonde o banco "marca" o espaço, é a view V$SORT_SEGMENT. Vc ** está ** usando a V$SORT_SEGMENT na sua consulta ?? 
Se não, vc está só olhando espaço dentro da tablespace, e não o que está livre pros usuários....
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
Isso dito : tablespace temporária é usada quando o banco tem que fazer operações de ajuste/ordenação com dados 
(como SORT ou HASH, por exemplo) e a área em RAM reservada pra isso ficou insuficiente, OU para alocar extents 
não-permanentes (como os que são criados quando vc insere numa tabela global temporary table, faz re-criação de 
índices, move de tabelas)... E o outro ponto é : os datafiles da tablespace TEMP só crescem sozinhos SE vc os deixar 
como AUTOEXTEND - caso contrário, uma vez esgotado o espaço simplesmente vc recebe um erro o o processo aborta... 
Então, se vc tem MESMO tendo mais consumo de tempo, é certo que :                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
a) OU os params de espaço para sort, hashes e similares estão pequenos demais, e o banco está tendo que fazer mais 
operações em disco                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
b) OU vc tem tido mas operações com extents temporários - talvez rebuilds, talves tabelas GTTs, MOVEs....                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
Quanto à hit ratio : vc está **** longe **** da verdade ao supor que :                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
a) o hit ratio é um indicador confiável : pra vc ver que não, leia o texto em http://www.oracledba.co.uk/tips/choose.htm , 
lá ele mostra uma rotina pra vc fazer o seu hit ratio ficar no valor que vc quiser, e obviamente a performance se estava 
ruim continuará ruim...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
b) alocando enormes porções de RAM vc vai melhorar a performance : veja vc, 
pra começo de conversa a RAM num servidor *** não *** é usada só pelo banco de dados. Por exemplo,
 CADA programa que conecta no banco TEM que criar (se é conexão direta no banco) um processo de conexão no servidor, 
 isso CONSOME RAM e CPU - ora, se vc alocou MONTES de RAM pros caches do banco, NÂO vai haver RAM pros processos 
 de conexão, resultado PAGINAÇÂO EM DISCO...                                                                                                                                                                                                                                                                                                                                                           
Além do que, essa RAM alocada é internamente controlada pelo próprio banco, se vc alocar MONTES e MONTES , o banco 
VAI ter uma lista maior pra controlar...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
==> A minha recomendação : deixe apenas uns 40% da RAM do servidor pra caches, verifique e corrija se necessário 
os params do banco (em especial os de sort & hash), veja a config das tablespaces(só deveria usar tablespaces LMT), 
por aí seria um caminho mais produtivo em termos de banco...                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
[]s                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
José Laurindo Chiappa                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
OraSauro não-certificado                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
Voltar para Oracle                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       